{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-08d29075476c2530.js","state.js","query.js","theme.js","node_modules/@parcel/runtime-js/lib/runtime-6d96c12a79395aed.js","markup.js","app.js","config.js","handlers.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jRPZQ\\\":\\\"index.2a0c49e1.js\\\",\\\"dODtX\\\":\\\"icons.c14567a0.svg\\\"}\"));","export const state = {\r\n  countries: [],\r\n  gridItems: [],\r\n  currentRegion: \"all\",\r\n  isDarkMode: false,\r\n  isInsideCountry: false,\r\n};\r\n","export const query = {\r\n  mainDark: \"dark-mode-parent\",\r\n  secondaryDark: \"dark-mode-child\",\r\n\r\n  lightBlackText: \"var(--light-mode-text)\",\r\n  lightGrayText: \"var(--very-light-gray)\",\r\n\r\n  header: document.querySelector(\"header\"),\r\n\r\n  themeBtn: document.querySelector(\".theme-btn\"),\r\n  backBtn: document.querySelector(\".back-btn\"),\r\n\r\n  searchBox: document.querySelector(\".search-box\"),\r\n  searchInput: document.querySelector(\".search-input\"),\r\n\r\n  selected: document.querySelector(\".selected\"),\r\n  optionsContainer: document.querySelector(\".options-container\"),\r\n  arrowUp: document.querySelector(\".fa-arrow-up\"),\r\n\r\n  gridContainer: document.querySelector(\".grid-container\"),\r\n  parentDetailsContainer: document.querySelector(\r\n    \".parent-country-details-container\"\r\n  ),\r\n  detailsContainer: document.querySelector(\".details-container\"),\r\n\r\n  gridItemTitle: \".item-title\",\r\n\r\n  flagContainer: \".flag-container\",\r\n  details: \".country-details-container\",\r\n  neighbor: \".neighbor\",\r\n};\r\n","import { state } from \"./state.js\";\r\nimport { query } from \"./query.js\";\r\n\r\nexport const dark_mode_countries = function () {\r\n  state.gridItems.forEach((el) => {\r\n    el.classList.toggle(query.secondaryDark);\r\n  });\r\n};\r\n\r\nexport const dark_mode_borders = function () {\r\n  if (state.isDarkMode && state.isInsideCountry)\r\n    document\r\n      .querySelectorAll(query.neighbor)\r\n      .forEach((el) => el.classList.toggle(query.secondaryDark));\r\n};\r\n\r\nexport const theme_mode = function () {\r\n  state.isDarkMode = !state.isDarkMode ? true : false;\r\n\r\n  document.querySelector(\"body\").classList.toggle(query.mainDark);\r\n  document.querySelector(\"body\").style.color = state.isDarkMode\r\n    ? query.lightGrayText\r\n    : query.lightBlackText;\r\n\r\n  query.header.classList.toggle(query.secondaryDark);\r\n  query.selected.classList.toggle(query.secondaryDark);\r\n\r\n  query.searchBox.classList.toggle(query.secondaryDark);\r\n  query.searchInput.classList.toggle(query.secondaryDark);\r\n\r\n  query.backBtn.classList.toggle(query.secondaryDark);\r\n\r\n  if (state.isInsideCountry)\r\n    document\r\n      .querySelectorAll(query.neighbor)\r\n      .forEach((el) => el.classList.toggle(query.secondaryDark));\r\n\r\n  query.optionsContainer.classList.toggle(query.secondaryDark);\r\n\r\n  dark_mode_countries();\r\n};\r\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dODtX\")).toString();","// If iver want to convert this, to the distribution file using parcel 2V\r\n// and deploy it in the internet => icon render spinner\r\nimport icon from \"url:/spinner/icons.svg\";\r\n\r\nexport const renderCard = function (data) {\r\n  return `\r\n        <div class=\"grid-item\" >\r\n        <img\r\n          src=\"${data.flags.svg}\"\r\n          alt=\"image-1\"\r\n          width=\"300\"\r\n          height=\"200\"\r\n        />\r\n        <div class=\"content-details\">\r\n          <h2 class=\"item-title\">${data.name.common}</h2>\r\n          <p class=\"item-population\">Population: <span>${data.population.toLocaleString(\r\n            \"en-US\"\r\n          )}</span></p>\r\n          <p class=\"item-region\">Region: <span>${data.region}</span></p>\r\n          <p class=\"item-capital\">Capital: <span>${\r\n            data.capital ?? \"N/A\"\r\n          }</span></p>\r\n        </div>\r\n      </div>\r\n`;\r\n};\r\n\r\nexport const renderCountry = function (data, borders) {\r\n  return `\r\n  <div class=\"flag-container\">\r\n    <img src=\"${data.flags.svg}\" alt=\"Flag image\" />\r\n  </div>\r\n\r\n  <div class=\"country-details-container\">\r\n    <h2 class=\"country-title\">${data.name.common}</h2>\r\n    <div class=\"country-details\">\r\n      <p class=\"country-native-name\">Native Name: <span>${\r\n        Object.values(data.name.nativeName)[0].official\r\n      }</span></p>\r\n      <p class=\"country-population\">Population:  <span>${data.population.toLocaleString(\r\n        \"en-US\"\r\n      )}</span></p>\r\n      <p class=\"country-region\">Region: <span>${data.region}</span></p>\r\n      <p class=\"country-subregion\">Region: <span>${data.subregion}</span></p>\r\n      <p class=\"country-capital\">Capital: <span>${\r\n        data.capital ?? \"N/A\"\r\n      }</span></p>\r\n      <p class=\"country-domain\">Top Level Domain: <span>${\r\n        data.tld[0]\r\n      }</span></p>\r\n      <p class=\"country-languages\">Languages: <span>${Object.values(\r\n        data.languages\r\n      ).join(\", \")}</span></p>\r\n      <p class=\"country-currency\">Currencies: <span>${\r\n        Object.values(data.currencies)[0].name\r\n      }</span></p>\r\n    </div>  \r\n\r\n    <div class=\"border-countries\">\r\n      <h4 class=\"border-country-title\">Border Countries:</h4>\r\n\r\n      <div class=\"country-neighbors\">\r\n        ${borders.map((el) => `<p class=\"neighbor\">${el}</p>`).join(\" \")}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  `;\r\n};\r\n\r\nexport const renderSpinner = function (element) {\r\n  const markup = `\r\n  <div class=\"spinner\">\r\n    <svg>\r\n      <use href=\"${icon}#icon-loader\"></use>\r\n    </svg>\r\n  </div>\r\n`;\r\n\r\n  document.querySelector(element).insertAdjacentHTML(\"beforeend\", markup);\r\n};\r\n\r\nexport const clearSpinner = function () {\r\n  document.querySelector(\".spinner\").remove();\r\n};\r\n","import { state } from \"./state.js\";\r\nimport { query } from \"./query.js\";\r\nimport { theme_mode, dark_mode_borders, dark_mode_countries } from \"./theme.js\";\r\nimport * as markup from \"./markup.js\";\r\nimport * as handler from \"./handlers.js\";\r\nimport * as config from \"./config.js\";\r\n\r\nconst load_countries = async function (region) {\r\n  try {\r\n    const API =\r\n      region === \"all\"\r\n        ? config.ALL_REGION_API\r\n        : config.SELECT_REGION_API(region);\r\n\r\n    const response = await fetch(API);\r\n    state.countries = await response.json();\r\n    state.countries.forEach((countryData) => {\r\n      query.gridContainer.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        markup.renderCard(countryData)\r\n      );\r\n    });\r\n\r\n    state.gridItems = document.querySelectorAll(\".grid-item\");\r\n\r\n    if (state.isDarkMode) dark_mode_countries();\r\n    markup.clearSpinner();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst alter_display_option = function () {\r\n  query.optionsContainer.classList.toggle(\"active\");\r\n  query.arrowUp.classList.toggle(\"active\");\r\n};\r\n\r\nconst select_region = function (e) {\r\n  const target = e.target;\r\n  if (state.currentRegion === target.dataset.region) return;\r\n  markup.renderSpinner(\"body\");\r\n\r\n  document.querySelector(`.${state.currentRegion}`).classList.remove(\"active\");\r\n  document.querySelector(`.${target.dataset.region}`).classList.add(\"active\");\r\n\r\n  state.currentRegion = target.dataset.region;\r\n  state.gridItems.forEach((country) => country.remove());\r\n  load_countries(target.dataset.region);\r\n};\r\n\r\nconst borders_data = async function (borders) {\r\n  if (!borders) return [\"No border countries\"];\r\n\r\n  return await Promise.all(\r\n    borders.map(async (el) => {\r\n      const response = await fetch(config.COUNTRY_CODE_API(el));\r\n      const [data] = await response.json();\r\n      return data.name.common;\r\n    })\r\n  );\r\n};\r\n\r\nconst generate_country_data = async function (Countryname) {\r\n  try {\r\n    const response = await fetch(config.COUNTRY_NAME_API(Countryname));\r\n    const [data] = await response.json();\r\n    const borders = await borders_data(data.borders);\r\n\r\n    query.gridContainer.classList.add(\"deactive\");\r\n    query.parentDetailsContainer.classList.add(\"active\");\r\n    query.detailsContainer.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      markup.renderCountry(data, borders)\r\n    );\r\n\r\n    state.isInsideCountry = true;\r\n    dark_mode_borders();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst selected_country = function (e) {\r\n  const targetCountry = e.target.closest(\".grid-item\");\r\n  if (!targetCountry) return;\r\n\r\n  const country = targetCountry.querySelector(query.gridItemTitle).textContent;\r\n  generate_country_data(country);\r\n};\r\n\r\nconst search_country = function () {\r\n  const inputValue = this.value.toLowerCase();\r\n\r\n  state.gridItems.forEach((el) => {\r\n    const text = el\r\n      .querySelector(query.gridItemTitle)\r\n      .textContent.toLowerCase();\r\n    el.style.display = !(text.indexOf(inputValue) > -1) ? \"none\" : \"\";\r\n  });\r\n};\r\n\r\nconst remove_attributes = function () {\r\n  document.querySelector(query.flagContainer).remove();\r\n  document.querySelector(query.details).remove();\r\n  query.gridContainer.classList.remove(\"deactive\");\r\n  query.parentDetailsContainer.classList.remove(\"active\");\r\n\r\n  state.isInsideCountry = false;\r\n};\r\n\r\nconst init_handlers = function () {\r\n  handler.theme(theme_mode);\r\n  handler.selected(alter_display_option);\r\n  handler.selectRegion(select_region);\r\n  handler.selectCountries(selected_country);\r\n  handler.searchCountries(search_country);\r\n  handler.backCountries(remove_attributes);\r\n};\r\n\r\nmarkup.renderSpinner(\"body\");\r\nload_countries(state.currentRegion);\r\ninit_handlers();\r\n","export const ALL_REGION_API = `https://restcountries.com/v3.1/all`;\r\n\r\nexport const SELECT_REGION_API = (region) =>\r\n  `https://restcountries.com/v3.1/region/${region}`;\r\n\r\nexport const COUNTRY_NAME_API = (countryName) =>\r\n  `https://restcountries.com/v3.1/name/${countryName}?fullText=true`;\r\n\r\nexport const COUNTRY_CODE_API = (code) =>\r\n  `https://restcountries.com/v3.1/alpha/${code}`;\r\n","import { query } from \"./query.js\";\r\n\r\nexport const theme = (callback) =>\r\n  query.themeBtn.addEventListener(\"click\", callback);\r\n\r\nexport const selected = (callback) =>\r\n  query.selected.addEventListener(\"click\", callback);\r\n\r\nexport const selectRegion = (callback) =>\r\n  query.optionsContainer.addEventListener(\"click\", callback);\r\n\r\nexport const selectCountries = (callback) =>\r\n  query.gridContainer.addEventListener(\"click\", callback);\r\n\r\nexport const searchCountries = (callback) =>\r\n  query.searchInput.addEventListener(\"keyup\", callback);\r\n\r\nexport const backCountries = (callback) =>\r\n  query.backBtn.addEventListener(\"click\", callback);\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$091f10de306fac2f$export$ca000e230c0caa3e","countries","gridItems","currentRegion","isDarkMode","isInsideCountry","$a4ec9b6a86d861d7$export$2fa187e846a241c4","mainDark","secondaryDark","lightBlackText","lightGrayText","header","document","querySelector","themeBtn","backBtn","searchBox","searchInput","selected","optionsContainer","arrowUp","gridContainer","parentDetailsContainer","detailsContainer","gridItemTitle","flagContainer","details","neighbor","$5509607c007f20ee$export$42fd9301fc1739ce","forEach","el","classList","toggle","$5509607c007f20ee$export$6ec64079bd7d0aaa","style","color","querySelectorAll","$fad8ac88727e8568$exports","URL","resolve","import","meta","url","toString","$6b17f08f738443dc$var$load_countries","async","region","API","$c10fc4dd470a6ad9$export$ed07b41e950c74bc","response","fetch","json","countryData","data","insertAdjacentHTML","flags","svg","name","common","population","toLocaleString","err","console","log","$6b17f08f738443dc$var$alter_display_option","$6b17f08f738443dc$var$select_region","e","target","dataset","$b209cf9df5f631c1$export$403c249a0a70d814","remove","add","country","$6b17f08f738443dc$var$generate_country_data","Countryname","countryName","borders","Promise","all","map","code","$6b17f08f738443dc$var$borders_data","$b209cf9df5f631c1$export$722881325d277462","$6b17f08f738443dc$var$selected_country","targetCountry","closest","textContent","$6b17f08f738443dc$var$search_country","inputValue","this","value","toLowerCase","text","display","indexOf","$6b17f08f738443dc$var$remove_attributes","callback","addEventListener","$0dd3236d5b00ca56$export$d90250155de6d7e7","$0dd3236d5b00ca56$export$82e205b9edac10b3","$0dd3236d5b00ca56$export$b66dadd2a247f57b","$0dd3236d5b00ca56$export$18960dbb692627fc","$0dd3236d5b00ca56$export$1391d171bf5f327a"],"version":3,"file":"index.2a0c49e1.js.map"}